<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø§Ù„Ù…Ù„ÙØ§Øª</title>

<style>
* {
  box-sizing: border-box;
  font-family: Arial, Helvetica, sans-serif;
}

body {
  margin: 0;
  padding: 40px;
  background: #f6f6f6;
}

h1 {
  text-align: center;
  margin-bottom: 30px;
}

.files {
  max-width: 900px;
  margin: auto;
}

.file {
  background: #ffffff;
  padding: 16px 20px;
  margin-bottom: 12px;
  border-radius: 10px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
}

.file span {
  font-size: 15px;
}

.file a {
  background: #17a2b8;
  color: #fff;
  padding: 7px 18px;
  border-radius: 6px;
  text-decoration: none;
  font-size: 14px;
}

.file a:hover {
  background: #117a8b;
}

.loading,
.error {
  text-align: center;
  color: #777;
}
</style>
</head>

<body>

<h1>ğŸ“ Ø§Ù„Ù…Ù„ÙØ§Øª</h1>

<div class="files" id="files">
  <div class="loading">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øªâ€¦</div>
</div>

<script>
const owner  = "a7medalnahdi";
const repo   = "pdfs";
const branch = "main";
const folder = "files";

const apiURL = `https://api.github.com/repos/${owner}/${repo}/contents/${folder}`;

fetch(apiURL)
  .then(res => {
    if (!res.ok) throw new Error("API Error");
    return res.json();
  })
  .then(files => {
    const container = document.getElementById("files");
    container.innerHTML = "";

    let hasPDF = false;

    files.forEach(file => {
      if (file.name.toLowerCase().endsWith(".pdf")) {
        hasPDF = true;

        // Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø£ØµÙ„ÙŠ
        const rawURL =
          `https://raw.githubusercontent.com/${owner}/${repo}/${branch}/${folder}/${encodeURIComponent(file.name)}`;

        // Ø±Ø§Ø¨Ø· Ø§Ù„Ø§Ø³ØªØ¹Ø±Ø§Ø¶ (Google Viewer)
        const viewURL =
          `https://docs.google.com/gview?url=${encodeURIComponent(rawURL)}&embedded=true`;

        container.innerHTML += `
          <div class="file">
            <span>ğŸ“„ ${file.name}</span>
            <a href="${viewURL}" target="_blank">Ø§Ø³ØªØ¹Ø±Ø§Ø¶</a>
          </div>
        `;
      }
    });

    if (!hasPDF) {
      container.innerHTML = `<div class="error">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„ÙØ§Øª PDF</div>`;
    }
  })
  .catch(() => {
    document.getElementById("files").innerHTML =
      `<div class="error">âŒ ØªØ£ÙƒØ¯ Ù…Ù† ØªÙØ¹ÙŠÙ„ GitHub Pages</div>`;
  });
</script>

</body>
</html>
